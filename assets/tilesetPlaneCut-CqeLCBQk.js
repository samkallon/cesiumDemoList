import{D as w}from"./Draw-CpE09MyR.js";import{g as c}from"./utils-D77UhXCi.js";import{S as d}from"./index-DKRxUdc1.js";import{_,o as v,r as T,c as b,a,f as l,w as r,h as x,b as P,i as m}from"./index-BJLImnJN.js";import"./smoke-B3Ez2l2u.js";import"./vars-l0sNRNKZ.js";const h={class:"container"},D={class:"dig-terrian-container MaoBoLi"},I={class:"btn-groups"},k={__name:"tilesetPlaneCut",setup(z){let t,s,p,i=null;v(async()=>{const n=new d.samCzm({Cesium});n.initViewer({id:"cesiumContainer"}),t=n.viewer,s=new w(t),p=new d.TerrainClipPlan(t,{height:u.value,splitNum:300,bottomImg:c("imgs/digTerrian/bottom.png"),wallImg:c("imgs/digTerrian/wall.png")},Cesium),i=t.scene.primitives.add(await Cesium.Cesium3DTileset.fromIonAssetId(354759)),t.flyTo(i)});const u=T(100);function C(){const n=p.getClipPlanes(s.activeShapePoints);s.clear();try{if(i){const e=new Cesium.ClippingPlaneCollection({planes:n,edgeWidth:1,edgeColor:Cesium.Color.WHITE,modelMatrix:Cesium.Matrix4.inverse(Cesium.Transforms.eastNorthUpToFixedFrame(i.boundingSphere.center),new Cesium.Matrix4)});i.clippingPlanes=e}}catch{}}function g(){s.clear(),i.clippingPlanes.removeAll()}function f(){s.startDraw("polygon")}return(n,e)=>{const o=x("el-button");return P(),b("div",h,[e[3]||(e[3]=a("div",{id:"cesiumContainer"},null,-1)),a("div",D,[a("div",I,[l(o,{size:"small",onClick:f},{default:r(()=>e[0]||(e[0]=[m("绘制")])),_:1}),l(o,{size:"small",onClick:C},{default:r(()=>e[1]||(e[1]=[m("开挖")])),_:1}),l(o,{size:"small",onClick:g},{default:r(()=>e[2]||(e[2]=[m("清除")])),_:1})])])])}}},A=_(k,[["__scopeId","data-v-4547e3b4"]]);export{A as default};
