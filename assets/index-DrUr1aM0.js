var k;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(k||(k={}));function x(n){return typeof n=="string"}function v(n){return typeof n=="number"}function R(n){return Array.isArray(n)}let W=Math.random;function y(){return H(W(),0,1-Number.EPSILON)}function H(n,e,t){return Math.min(Math.max(n,e),t)}function d(n){const e=C(n),t=0;let i=T(n);return e===i&&(i=t),y()*(e-i)+i}function h(n){return v(n)?n:d(n)}function T(n){return v(n)?n:n.min}function C(n){return v(n)?n:n.max}function b(n,e){if(n===e||e===void 0&&v(n))return n;const t=T(n),i=C(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:b(t,i)}var P;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(P||(P={}));var g;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(g||(g={}));var S;(function(n){n.none="none",n.max="max",n.min="min"})(S||(S={}));var w;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(w||(w={}));var E;(function(n){n.precise="precise",n.percent="percent"})(E||(E={}));var F;(function(n){n.max="max",n.min="min",n.random="random"})(F||(F={}));function $(n){return Math.floor(y()*n.length)}function L(n,e,t=!0){return n[e!==void 0&&t?e%n.length:$(n)]}function A(n,e,t){return R(n)?L(n,e,t):n}function q(n,e){if(n.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${n.version}. Plugins version: ${e}`)}const z="random";function B(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function _(n,e,t,i=!0){if(!e)return;const o=x(e)?{value:e}:e;if(x(o.value))return N(n,o.value,t,i);if(R(o.value))return _(n,{value:L(o.value,t,i)});for(const s of n.colorManagers.values()){const l=s.handleRangeColor(o);if(l)return l}}function N(n,e,t,i=!0){if(!e)return;const o=x(e)?{value:e}:e;if(x(o.value))return o.value===z?Q():K(n,o.value);if(R(o.value))return N(n,{value:L(o.value,t,i)});for(const s of n.colorManagers.values()){const l=s.handleColor(o);if(l)return l}}function G(n,e,t,i=!0){const o=_(n,e,t,i);return o?J(o):void 0}function J(n){const m=n.r/255,u=n.g/255,c=n.b/255,r=Math.max(m,u,c),a=Math.min(m,u,c),f={h:0,l:(r+a)*.5,s:0};return r!==a&&(f.s=f.l<.5?(r-a)/(r+a):(r-a)/(2-r-a),f.h=m===r?(u-c)/(r-a):f.h=u===r?2+(c-m)/(r-a):2*2+(m-u)/(r-a)),f.l*=100,f.s*=100,f.h*=60,f.h<0&&(f.h+=360),f.h>=360&&(f.h-=360),f}function K(n,e){return B(n,e)}function Q(n){return{b:Math.floor(d(b(0,256))),g:Math.floor(d(b(0,256))),r:Math.floor(d(b(0,256)))}}function X(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(M(i.h,e.h,t),M(i.s,e.s,t),M(i.l,e.l,t)),i}function M(n,e,t){n.enable=e.enable;const i=0,o=1,s=0,l=0;n.enable?(n.velocity=h(e.speed)/100*t,n.decay=o-h(e.decay),n.status=g.increasing,n.loops=s,n.maxLoops=h(e.count),n.time=l,n.delayTime=h(e.delay)*1e3,e.sync||(n.velocity*=y(),n.value*=y()),n.initialValue=n.value,n.offset=b(e.offset)):n.velocity=i}function p(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const m=n.offset?d(n.offset):0,u=(n.velocity??0)*i.factor+m*3.6,c=n.decay??1,r=C(e),a=T(e);!t||n.status===g.increasing?(n.value+=u,n.value>r&&(n.loops||(n.loops=0),n.loops++,t?n.status=g.decreasing:n.value-=r)):(n.value-=u,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=g.increasing)),n.velocity&&c!==1&&(n.velocity*=c),n.value=H(n.value,a,r)}function Y(n,e){if(!n)return;const{h:t,s:i,l:o}=n,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&p(t,s.h,!1,e),i&&p(i,s.s,!0,e),o&&p(o,s.l,!0,e)}const Z=1;class j{constructor(e,t){this._container=e,this._engine=t}init(e){var l;const t=this._container,i=e.options,o=A(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=h(o.width)*t.retina.pixelRatio,e.strokeOpacity=h(o.opacity??Z),e.strokeAnimation=(l=o.color)==null?void 0:l.animation;const s=G(this._engine,o.color)??e.getFillColor();s&&(e.strokeColor=X(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&Y(e.strokeColor,t)}}async function D(n,e=!0){q(n,"3.7.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new j(t,n)),e)}export{D as loadStrokeColorUpdater};
