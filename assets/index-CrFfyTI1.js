var c;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(c||(c={}));function i(t){return typeof t=="number"}let f=Math.random;function p(){return y(f(),0,1-Number.EPSILON)}function y(t,n,e){return Math.min(Math.max(t,n),e)}function x(t){const n=w(t),e=0;let o=b(t);return n===o&&(o=e),p()*(n-o)+o}function S(t){return i(t)?t:x(t)}function b(t){return i(t)?t:t.min}function w(t){return i(t)?t:t.max}function P(t){return t*Math.PI/180}const R=180,a={x:0,y:0},C=2;function T(t,n,e){const{context:o}=t,s=e.count.numerator*e.count.denominator,r=e.count.numerator/e.count.denominator,l=R*(r-C)/r,h=Math.PI-P(l);if(o){o.beginPath(),o.translate(n.x,n.y),o.moveTo(a.x,a.y);for(let u=0;u<s;u++)o.lineTo(e.length,a.y),o.translate(e.length,a.y),o.rotate(h)}}const I=5;class m{draw(n){const{particle:e,radius:o}=n,s=this.getCenter(e,o),r=this.getSidesData(e,o);T(n,s,r)}getSidesCount(n){const e=n.shapeData;return Math.round(S((e==null?void 0:e.sides)??I))}}const d=3.5,g=2.66,F=3;class V extends m{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(n,e){return{x:-e/(n.sides/d),y:-e/(g/d)}}getSidesData(n,e){const o=n.sides;return{count:{denominator:1,numerator:o},length:e*g/(o/F)}}}const k=1.66,L=3,N=2;class O extends m{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(n,e){return{x:-e,y:e/k}}getSidesCount(){return L}getSidesData(n,e){const o=e*N;return{count:{denominator:2,numerator:3},length:o}}}async function A(t,n=!0){t.checkVersion("3.8.1"),await t.addShape(new V,n)}async function D(t,n=!0){t.checkVersion("3.8.1"),await t.addShape(new O,n)}async function B(t,n=!0){t.checkVersion("3.8.1"),await A(t,n),await D(t,n)}export{A as loadGenericPolygonShape,B as loadPolygonShape,D as loadTriangleShape};
