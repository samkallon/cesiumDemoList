const A="pointermove";const y="random",M="mid";var N;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(N||(N={}));function d(n){return typeof n=="string"}function L(n){return typeof n=="number"}function k(n){return Array.isArray(n)}function p(n){return n==null}let _=Math.random;function q(){return j(_(),0,1-Number.EPSILON)}function j(n,t,e){return Math.min(Math.max(n,t),e)}function R(n){const t=V(n),e=0;let r=z(n);return t===r&&(r=e),q()*(t-r)+r}function z(n){return L(n)?n:n.min}function V(n){return L(n)?n:n.max}function v(n,t){if(n===t||t===void 0&&L(n))return n;const e=z(n),r=V(n);return t!==void 0?{min:Math.min(e,t),max:Math.max(r,t)}:v(e,r)}function B(n,t){const e=n.x-t.x,r=n.y-t.y,i=2;return{dx:e,dy:r,distance:Math.sqrt(e**i+r**i)}}function J(n,t){return B(n,t).distance}var w;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(w||(w={}));var I;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(I||(I={}));var P;(function(n){n.none="none",n.max="max",n.min="min"})(P||(P={}));var E;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(E||(E={}));var G;(function(n){n.precise="precise",n.percent="percent"})(G||(G={}));var T;(function(n){n.max="max",n.min="min",n.random="random"})(T||(T={}));function K(n,t){return n===t||k(t)&&t.indexOf(n)>-1}function Q(n){return Math.floor(q()*n.length)}function W(n,t,e=!0){return n[Q(n)]}var S;(function(n){n.darken="darken",n.enlighten="enlighten"})(S||(S={}));function U(n,t){if(t){for(const e of n.colorManagers.values())if(t.startsWith(e.stringPrefix))return e.parseString(t)}}function C(n,t,e,r=!0){if(!t)return;const i=d(t)?{value:t}:t;if(d(i.value))return $(n,i.value,e,r);if(k(i.value))return C(n,{value:W(i.value,e,r)});for(const o of n.colorManagers.values()){const a=o.handleRangeColor(i);if(a)return a}}function $(n,t,e,r=!0){if(!t)return;const i=d(t)?{value:t}:t;if(d(i.value))return i.value===y?H():X(n,i.value);if(k(i.value))return $(n,{value:W(i.value,e,r)});for(const o of n.colorManagers.values()){const a=o.handleColor(i);if(a)return a}}function X(n,t){return U(n,t)}function Y(n){const t=(n.h%360+360)%360,e=Math.max(0,Math.min(100,n.s)),r=Math.max(0,Math.min(100,n.l)),i=t/360,o=e/100,a=r/100;if(e===0){const s=Math.round(a*255);return{r:s,g:s,b:s}}const u=(s,f,c)=>(c<0&&c++,c>1&&c--,c*6<1?s+(f-s)*6*c:c*2<1?f:c*3<1*2?s+(f-s)*(.6666666666666666-c)*6:s),l=a<.5?a*(1+o):a+o-a*o,g=2*a-l,m=1/3,h=Math.min(255,255*u(g,l,i+m)),b=Math.min(255,255*u(g,l,i)),x=Math.min(255,255*u(g,l,i-m));return{r:Math.round(h),g:Math.round(b),b:Math.round(x)}}function H(n){return{b:Math.floor(R(v(0,256))),g:Math.floor(R(v(0,256))),r:Math.floor(R(v(0,256)))}}function Z(n,t){return`rgba(${n.r}, ${n.g}, ${n.b}, ${t??1})`}function D(n,t,e){if(e===y)return H();if(e===M){const r=n.getFillColor()??n.getStrokeColor(),i=t==null?void 0:t.getStrokeColor();{const o=r??i;if(o)return Y(o)}}else return e}function nn(n,t,e,r){const i=d(t)?t:t.value;return i===y?r?C(n,{value:i}):e?y:M:i===M?M:C(n,{value:i})}function tn(n,t,e){n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.closePath()}class F{constructor(){this.value=""}static create(t,e){const r=new F;return r.load(t),e!==void 0&&(d(e)||k(e)?r.load({value:e}):r.load(e)),r}load(t){p(t)||p(t.value)||(this.value=t.value)}}var O;(function(n){n.external="external",n.particles="particles"})(O||(O={}));class en{constructor(t){this.type=O.external,this.container=t}}class rn{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(t){p(t)||(t.blink!==void 0&&(this.blink=t.blink),t.color!==void 0&&(this.color=F.create(this.color,t.color)),t.consent!==void 0&&(this.consent=t.consent),t.opacity!==void 0&&(this.opacity=t.opacity))}}class on{constructor(){this.distance=100,this.links=new rn}load(t){p(t)||(t.distance!==void 0&&(this.distance=t.distance),this.links.load(t.links))}}const an=0;function sn(n,t,e,r,i,o){tn(n,e,r),n.strokeStyle=Z(i,o),n.lineWidth=t,n.stroke()}function cn(n,t,e,r,i){n.canvas.draw(o=>{const a=t.getPosition();sn(o,t.retina.linksWidth??an,a,i,e,r)})}const ln="grab",un=0,fn=0;class dn extends en{constructor(t,e){super(t),this._engine=e}clear(){}init(){const t=this.container,e=t.actualOptions.interactivity.modes.grab;e&&(t.retina.grabModeDistance=e.distance*t.retina.pixelRatio)}interact(){var u;const t=this.container,e=t.actualOptions,r=e.interactivity;if(!r.modes.grab||!r.events.onHover.enable||t.interactivity.status!==A)return;const i=t.interactivity.mouse.position;if(!i)return;const o=t.retina.grabModeDistance;if(!o||o<un)return;const a=t.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));for(const l of a){const g=l.getPosition(),m=J(g,i);if(m>o)continue;const h=r.modes.grab.links,b=h.opacity,x=b-m*b/o;if(x<=fn)continue;const s=h.color??((u=l.options.links)==null?void 0:u.color);if(!t.particles.grabLineColor&&s){const c=r.modes.grab.links;t.particles.grabLineColor=nn(this._engine,s,c.blink,c.consent)}const f=D(l,void 0,t.particles.grabLineColor);f&&cn(t,l,f,x,i)}}isEnabled(t){const e=this.container,r=e.interactivity.mouse,i=((t==null?void 0:t.interactivity)??e.actualOptions.interactivity).events;return i.onHover.enable&&!!r.position&&K(ln,i.onHover.mode)}loadModeOptions(t,...e){t.grab||(t.grab=new on);for(const r of e)t.grab.load(r==null?void 0:r.grab)}reset(){}}async function bn(n,t=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalGrab",e=>Promise.resolve(new dn(e,n)),t)}export{on as Grab,rn as GrabLinks,bn as loadExternalGrabInteraction};
