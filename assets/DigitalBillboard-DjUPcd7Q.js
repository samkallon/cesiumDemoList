import{S as u}from"./index-DqJpl1j7.js";import{g as d}from"./utils-D77UhXCi.js";import{i as l}from"./dat.gui.module-CdQtWzq-.js";import{_ as p,o as _,c as C,a as f,b as c}from"./index-Cz_mX-Ds.js";import"./smoke-B3Ez2l2u.js";import"./vars-l0sNRNKZ.js";const x={class:"container"},M={__name:"DigitalBillboard",setup(g){let n=null;return _(async()=>{const a=new u.samCzm({Cesium});a.initViewer({id:"cesiumContainer"}),n=a.viewer,n.scene.globe.depthTestAgainstTerrain=!0,n.camera.setView({destination:{x:-2.6058776351897535e6,y:4.7411708930678805e6,z:3.3671733836399023e6},orientation:{heading:6.03062824032168,pitch:-.3269054991435494,roll:6.283184968930444}});const s=12,i=new Cesium.CustomShader({varyings:{v_normalMC:Cesium.VaryingType.VEC3,v_st:Cesium.VaryingType.VEC3},uniforms:{u_texture:{value:new Cesium.TextureUniform({url:d("imgs/demoFengMian/default.png")}),type:Cesium.UniformType.SAMPLER_2D}},vertexShaderText:`
            void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                  v_normalMC = vsInput.attributes.normalMC;
                  v_st=vsInput.attributes.positionMC ;
            }`,fragmentShaderText:`
           void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
              vec3 positionMC = fsInput.attributes.positionMC;
              //这里是设置要贴图的图片的尺寸，设置小了会重复
              vec3 rgb;
              rgb = material.diffuse;
              material.diffuse = rgb;

          }`}),r=await Cesium.Model.fromGltfAsync({url:"/cesiumDemoList/model/Billboard_001.glb",scale:s,modelMatrix:Cesium.Transforms.headingPitchRollToFixedFrame(Cesium.Cartesian3.fromDegrees(118.7911920757646,32.07496138823535,5),new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(120),0,0),Cesium.Ellipsoid.WGS84,Cesium.Transforms.localFrameToFixedFrameGenerator("north","west")),customShader:i});n.scene.primitives.add(r);const e={u_positionYMin:.72,u_positionYMax:1.5,u_positionXMin:.72,u_positionXMax:1.5,u_positionZMin:.044,u_positionZMax:.0441,u_texCoordOffsetX:-3,u_texCoordOffsetY:-2.5,u_texCoordScale:4},o=new l.GUI;o.domElement.style="position:absolute;top:10px;left:10px;",document.querySelector(".container").appendChild(o.domElement),o.add(e,"u_positionYMin",-5,5).onChange(t=>{i.setUniform("u_positionYMin",e.u_positionYMin)}),o.add(e,"u_positionYMax",-5,5).onChange(t=>{i.setUniform("u_positionYMax",e.u_positionYMax)}),o.add(e,"u_positionXMin",-5,5).onChange(t=>{i.setUniform("u_positionXMin",e.u_positionXMin)}),o.add(e,"u_positionXMax",-5,5).onChange(t=>{i.setUniform("u_positionXMax",e.u_positionXMax)}),o.add(e,"u_positionZMin",0,.05).onChange(t=>{i.setUniform("u_positionZMin",e.u_positionZMin)}),o.add(e,"u_positionZMax",.03,.05).onChange(t=>{i.setUniform("u_positionZMax",e.u_positionZMax)}),o.add(e,"u_texCoordOffsetX",-10,10).onChange(t=>{i.setUniform("u_texCoordOffsetX",e.u_texCoordOffsetX)}),o.add(e,"u_texCoordOffsetY",-10,10).onChange(t=>{i.setUniform("u_texCoordOffsetY",e.u_texCoordOffsetY)}),o.add(e,"u_texCoordScale",4,10).onChange(t=>{i.setUniform("u_texCoordScale",e.u_texCoordScale)});const m=await Cesium.Model.fromGltfAsync({url:"/cesiumDemoList/model/Billboard_002.glb",scale:s,modelMatrix:Cesium.Transforms.headingPitchRollToFixedFrame(Cesium.Cartesian3.fromDegrees(118.79256551551657,32.07536775632222,5),new Cesium.HeadingPitchRoll,Cesium.Ellipsoid.WGS84,Cesium.Transforms.localFrameToFixedFrameGenerator("north","west"))});n.scene.primitives.add(m)}),(a,s)=>(c(),C("div",x,s[0]||(s[0]=[f("div",{id:"cesiumContainer"},null,-1)])))}},y=p(M,[["__scopeId","data-v-7b0240ce"]]);export{y as default};
