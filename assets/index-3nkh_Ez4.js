var h;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(h||(h={}));function d(n){return typeof n=="number"}function f(n){return n==null}let N=Math.random;function c(){return O(N(),0,1-Number.EPSILON)}function O(n,e,t){return Math.min(Math.max(n,e),t)}function m(n){const e=E(n),t=0;let i=S(n);return e===i&&(i=t),c()*(e-i)+i}function u(n){return d(n)?n:m(n)}function S(n){return d(n)?n:n.min}function E(n){return d(n)?n:n.max}function a(n,e){if(n===e||e===void 0&&d(n))return n;const t=S(n),i=E(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:a(t,i)}var y;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(y||(y={}));var g;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(g||(g={}));var x;(function(n){n.none="none",n.max="max",n.min="min"})(x||(x={}));var w;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(w||(w={}));var b;(function(n){n.precise="precise",n.percent="percent"})(b||(b={}));var p;(function(n){n.max="max",n.min="min",n.random="random"})(p||(p={}));function $(n,e){if(n.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${n.version}. Plugins version: ${e}`)}class P{constructor(){this.value=0}load(e){f(e)||f(e.value)||(this.value=a(e.value))}}class U extends P{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class I extends P{constructor(){super(),this.sync=!1}load(e){f(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class j{constructor(){this.count=0,this.delay=new U,this.duration=new I}load(e){f(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const r=0,z=-1,R=0,T=0;function C(n,e,t){if(!n.life)return;const i=n.life;let o=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)o=!0,n.spawning=!1,i.delayTime=r,i.time=r;else return;if(i.duration===z||n.spawning||(o?i.time=r:i.time+=e.value,i.time<i.duration))return;if(i.time=r,n.life.count>R&&n.life.count--,n.life.count===R){n.destroy();return}const V=a(T,t.width),F=a(T,t.width);n.position.x=m(V),n.position.y=m(F),n.spawning=!0,i.delayTime=r,i.time=r,n.reset();const l=n.options.life;l&&(i.delay=u(l.delay.value)*1e3,i.duration=u(l.duration.value)*1e3)}const s=0,L=1,v=-1;class W{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,o=i.life;o&&(e.life={delay:t.retina.reduceFactor?u(o.delay.value)*(o.delay.sync?L:c())/t.retina.reduceFactor*1e3:s,delayTime:s,duration:t.retina.reduceFactor?u(o.duration.value)*(o.duration.sync?L:c())/t.retina.reduceFactor*1e3:s,time:s,count:o.count},e.life.duration<=s&&(e.life.duration=v),e.life.count<=s&&(e.life.count=v),e.life&&(e.spawning=e.life.delay>s))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new j);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){!this.isEnabled(e)||!e.life||C(e,t,this.container.canvas.size)}}async function _(n,e=!0){$(n,"3.7.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new W(t)),e)}export{_ as loadLifeUpdater};
