var b;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(b||(b={}));function f(n){return typeof n=="number"}function u(n){return n==null}let E=Math.random;function d(){return k(E(),0,1-Number.EPSILON)}function k(n,e,i){return Math.min(Math.max(n,e),i)}function C(n){const e=L(n),i=0;let t=R(n);return e===t&&(t=i),d()*(e-t)+t}function h(n){return f(n)?n:C(n)}function R(n){return f(n)?n:n.min}function L(n){return f(n)?n:n.max}function a(n,e){if(n===e||e===void 0&&f(n))return n;const i=R(n),t=L(n);return e!==void 0?{min:Math.min(i,e),max:Math.max(t,e)}:a(i,t)}function N(n){return n*Math.PI/180}var p;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(p||(p={}));var r;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(r||(r={}));var m;(function(n){n.none="none",n.max="max",n.min="min"})(m||(m={}));var x;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(x||(x={}));var v;(function(n){n.precise="precise",n.percent="percent"})(v||(v={}));var w;(function(n){n.max="max",n.min="min",n.random="random"})(w||(w={}));function T(n,e,i,t,o){switch(e){case m.max:i>=o&&n.destroy();break;case m.min:i<=t&&n.destroy();break}}function U(n,e,i,t,o){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const y=(e.velocity??0)*o.factor,l=e.min,c=e.max,g=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=o.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case r.increasing:e.value>=c?(e.value-=c,e.loops||(e.loops=0),e.loops++):e.value+=y;break;case r.decreasing:e.value<=l?(e.value+=c,e.loops||(e.loops=0),e.loops++):e.value-=y}e.velocity&&g!==1&&(e.velocity*=g),T(n,t,e.value,l,c),n.destroyed||(e.value=k(e.value,l,c))}}function D(n,e){if(n.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${n.version}. Plugins version: ${e}`)}class O{constructor(){this.value=0}load(e){u(e)||u(e.value)||(this.value=a(e.value))}}var s;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(s||(s={}));class ${constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){u(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=a(e.speed)),e.decay!==void 0&&(this.decay=a(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class A extends O{constructor(){super(),this.animation=new $,this.direction=s.clockwise,this.path=!1,this.value=0}load(e){u(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const P=2,F=Math.PI*P,W=1,_=360;class j{constructor(e){this.container=e}init(e){const i=e.options.rotate;if(!i)return;e.rotate={enable:i.animation.enable,value:N(h(i.value)),min:0,max:F},e.pathRotation=i.path;let t=i.direction;switch(t===s.random&&(t=Math.floor(d()*P)>0?s.counterClockwise:s.clockwise),t){case s.counterClockwise:case"counterClockwise":e.rotate.status=r.decreasing;break;case s.clockwise:e.rotate.status=r.increasing;break}const o=i.animation;o.enable&&(e.rotate.decay=W-h(o.decay),e.rotate.velocity=h(o.speed)/_*this.container.retina.reduceFactor,o.sync||(e.rotate.velocity*=d())),e.rotation=e.rotate.value}isEnabled(e){const i=e.options.rotate;return i?!e.destroyed&&!e.spawning&&(!!i.value||i.animation.enable||i.path):!1}loadOptions(e,...i){e.rotate||(e.rotate=new A);for(const t of i)e.rotate.load(t==null?void 0:t.rotate)}update(e,i){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(U(e,e.rotate,!1,m.none,i),e.rotation=e.rotate.value))}}async function G(n,e=!0){D(n,"3.7.1"),await n.addParticleUpdater("rotate",i=>Promise.resolve(new j(i)),e)}export{G as loadRotateUpdater};
